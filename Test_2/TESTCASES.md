
# TESTCASES.md

## 1. Создание объявления

**Название**: Успешное создание объявления  
**Тип**: позитивный  
**Приоритет**: высокий  

**Предусловия**:  
- Уникальный `sellerID` (например, 123456)

**Шаги**:
1. Отправить POST-запрос на `/api/1/item` с телом:
```json
{
  "sellerID": 123456,
  "name": "Тестовое объявление",
  "price": 1000,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```

**Ожидаемый результат**:  
- Код ответа: `200 OK`  
- Пример ответа:
```json
{
  "id": "abc123",
  "sellerId": 123456,
  "name": "Тестовое объявление",
  "price": 1000,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  },
  "createdAt": "2025-06-12T12:00:00Z"
}
```

**Постусловия**: Удалить объявление через API v2.

---

**Название**: Ошибка при создании объявления без поля name  
**Тип**: негативный  
**Приоритет**: высокий  

**Предусловия**:  
- Уникальный `sellerID`

**Шаги**:
1. Отправить POST-запрос с пропущенным полем `name`:
```json
{
  "sellerID": 123456,
  "price": 1000,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
}
```

**Ожидаемый результат**:  
- Код ответа: `400 Bad Request`  
- Пример ответа:
```json
{
  "result": {
    "messages": {
      "mollit_aa": "name is required"
    },
    "message": "Validation failed"
  },
  "status": "error"
}
```

**Постусловия**: отсутствуют

---

## 2. Получение объявления по ID

**Название**: Успешное получение объявления по ID  
**Тип**: позитивный  
**Приоритет**: высокий  

**Предусловия**:  
- Существующее объявление

**Шаги**:
1. Отправить GET-запрос на `/api/1/item/{id}`

**Ожидаемый результат**:  
- Код ответа: `200 OK`  
- Пример:
```json
{
  "id": "abc123",
  "sellerId": 123456,
  "name": "Тестовое объявление",
  "price": 1000,
  "statistics": {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  },
  "createdAt": "2025-06-12T12:00:00Z"
}
```

**Постусловия**: отсутствуют

---

**Название**: Ошибка при получении объявления с несуществующим ID  
**Тип**: негативный  
**Приоритет**: средний  

**Предусловия**: -  

**Шаги**:
1. Отправить GET-запрос на `/api/1/item/invalid_id`

**Ожидаемый результат**:  
- Код ответа: `404 Not Found`  
- Пример:
```json
{
  "result": "not found",
  "status": "error"
}
```

**Постусловия**: отсутствуют

---

## 3. Получение всех объявлений пользователя

**Название**: Получение всех объявлений пользователя по ID  
**Тип**: позитивный  
**Приоритет**: высокий  

**Предусловия**: -  

**Шаги**:
1. Отправить GET-запрос на `/api/1/{sellerID}/item`

**Ожидаемый результат**:  
- Код ответа: `200 OK`  
- Пример:
```json
[
  {
    "id": "abc123",
    "sellerId": 123456,
    "name": "Тестовое объявление",
    "price": 1000,
    "statistics": {
      "likes": 0,
      "viewCount": 0,
      "contacts": 0
    },
    "createdAt": "2025-06-12T12:00:00Z"
  }
]
```

**Постусловия**: отсутствуют

---

## 4. Получение статистики по объявлению (v1/v2)

**Название**: Успешное получение статистики  
**Тип**: позитивный  
**Приоритет**: высокий  

**Предусловия**: Объявление с валидным `id` существует  

**Шаги**:
1. Отправить GET-запрос на `/api/1/statistic/{id}` или `/api/2/statistic/{id}`

**Ожидаемый результат**:  
- Код ответа: `200 OK`  
- Пример:
```json
[
  {
    "likes": 0,
    "viewCount": 0,
    "contacts": 0
  }
]
```

**Постусловия**: отсутствуют

---

**Название**: Ошибка получения статистики по несуществующему ID  
**Тип**: негативный  
**Приоритет**: средний  

**Предусловия**: -  

**Шаги**:
1. Отправить GET-запрос на `/api/1/statistic/invalid_id`

**Ожидаемый результат**:  
- Код ответа: `404 Not Found`  
- Пример:
```json
{
  "result": "not found",
  "status": "error"
}
```

**Постусловия**: отсутствуют

---

## 5. Удаление объявления

**Название**: Успешное удаление объявления  
**Тип**: позитивный  
**Приоритет**: высокий  

**Предусловия**: Существующее объявление  

**Шаги**:
1. Отправить DELETE-запрос на `/api/2/item/{id}`

**Ожидаемый результат**:  
- Код ответа: `200 OK`  
- Тело: пустое

**Постусловия**: Объявление удалено

---

**Название**: Удаление несуществующего объявления  
**Тип**: негативный  
**Приоритет**: средний  

**Предусловия**: -  

**Шаги**:
1. DELETE-запрос на `/api/2/item/invalid_id`

**Ожидаемый результат**:  
- Код ответа: `404 Not Found`  
- Пример:
```json
{
  "result": "not found",
  "status": "error"
}
```

**Постусловия**: отсутствуют
