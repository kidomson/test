## TESTCASES.md

### Общая информация:
Хост: `https://qa-internship.avito.com`

В микросервисе реализованы 6 ручек:

#### Версия 1
1. POST /api/1/item — создать объявление
2. GET /api/1/item/:id — получить объявление по id
3. GET /api/1/:sellerID/item — получить все объявления пользователя
4. GET /api/1/statistic/:id — получить статистику по объявлению

#### Версия 2
5. GET /api/2/statistic/:id — получить статистику по объявлению
6. DELETE /api/2/item/:id — удалить объявление

### Техники тест-дизайна:
- Классы эквивалентности (валидные и невалидные входные данные)
- Граничные значения (минимумы и максимумы)
- Позитивные/негативные тесты

---

### 1. POST /api/1/item — создать объявление
**Позитивные тесты:**
- [ ] Успешное создание объявления с валидными данными:
  ```json
  {
    "sellerID": 123456,
    "name": "Телефон",
    "price": 15000,
    "statistics": {
      "likes": 10,
      "viewCount": 100,
      "contacts": 5
    }
  }
  ```
- [ ] Успешное создание без поля `statistics` — проверка значений по умолчанию
- [ ] Граничные значения `name` (1 и 255 символов), `price` (0, 1, MAX_INT), `sellerID` (111111 и 999999)

**Негативные тесты:**
- [ ] Пропущено поле `sellerID`
- [ ] Пропущено поле `name`
- [ ] `price` = -1
- [ ] `likes` = -5, `viewCount` = -100, `contacts` = -2
- [ ] Невалидные типы данных: строка вместо числа, null, пустая строка
- [ ] Пустой body запроса

---

### 2. GET /api/1/item/:id — получить объявление по id
**Позитивные тесты:**
- [ ] Получить объявление по валидному ID, созданному ранее

**Негативные тесты:**
- [ ] Объявление с таким ID не существует (404)
- [ ] ID = пустая строка, спецсимволы, слишком длинный ID

---

### 3. GET /api/1/:sellerID/item — все объявления продавца
**Позитивные тесты:**
- [ ] Продавец с несколькими объявлениями
- [ ] Продавец без объявлений (ответ — пустой массив)
- [ ] Проверка граничных значений sellerID: 111111 и 999999

**Негативные тесты:**
- [ ] sellerID = 1000000 (вне допустимого диапазона)
- [ ] sellerID = строка, null, пустая строка

---

### 4. GET /api/1/statistic/:id и 5. GET /api/2/statistic/:id
**Позитивные тесты:**
- [ ] Получение статистики для существующего item ID, например ID из POST /item
- [ ] Совпадают ли данные статистики с переданными при создании

**Негативные тесты:**
- [ ] ID = несуществующий (404)
- [ ] ID = спецсимволы, пустая строка, пробел

---

### 6. DELETE /api/2/item/:id — удалить объявление
**Позитивные тесты:**
- [ ] Успешное удаление объявления (предварительно созданного)

**Негативные тесты:**
- [ ] Повторное удаление — ожидается 404
- [ ] ID = несуществующий
- [ ] ID = пустая строка, строка с буквами, спецсимволы

---

### Дополнительно:
- [ ] Проверить наличие поля `createdAt` в ответе POST и его формат (RFC3339 или ISO 8601)
- [ ] Проверить, что GET по id после DELETE возвращает 404
- [ ] Проверить цепочку: POST → GET → DELETE → GET (ожидается 404)
- [ ] Проверить, что GET статистики после удаления также возвращает 404
- [ ] Проверить, что статистика не обнуляется между GET-запросами

### Примечания:
- sellerID должен быть уникальным в диапазоне 111111–999999
- Возможны пересечения с другими пользователями, использовать случайную генерацию
- Тесты можно автоматизировать через Postman или pytest + requests

